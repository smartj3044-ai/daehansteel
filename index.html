<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€í•œì² ê°• ê³ ê°ë§Œì¡±ë„ ì¡°ì‚¬</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <style>
        :root {
            --primary: #2C3E50; /* ëŒ€í•œì² ê°• ë„¤ì´ë¹„ */
            --accent: #E67E22; /* í¬ì¸íŠ¸ ì˜¤ë Œì§€ */
            --bg: #F5F7FA;
            --white: #ffffff;
            --border: #E0E0E0;
            --shadow: 0 10px 20px rgba(0,0,0,0.05);
            --radius: 12px;
        }

        body {
            font-family: 'Pretendard', sans-serif;
            background: var(--bg);
            color: #333;
            margin: 0; padding: 30px 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 720px; margin: 0 auto;
            background: var(--white);
            padding: 40px; 
            border-radius: 20px;
            box-shadow: var(--shadow);
        }

        /* í—¤ë” ë””ìì¸: ë„¤ì´ë¹„ ë°°ê²½ + í°ìƒ‰ ê¸€ì”¨ */
        header { 
            text-align: center; 
            margin-bottom: 50px;
            background-color: var(--primary); 
            color: var(--white);
            padding: 50px 20px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(44, 62, 80, 0.3);
        }
        
        h1 { 
            color: #ffffff; 
            margin: 0; 
            font-size: 2.2rem; 
            letter-spacing: -1px; 
            font-weight: 800; 
            line-height: 1.2;
        }
        
        .subtitle { 
            font-size: 1.1rem; 
            color: rgba(255, 255, 255, 0.9);
            margin-top: 15px; 
            font-weight: 500;
        }
        
        /* ì„¹ì…˜ ìŠ¤íƒ€ì¼ */
        .section { margin-bottom: 50px; padding-bottom: 30px; border-bottom: 1px solid #eee; }
        .section:last-child { border-bottom: none; }
        
        .sec-title {
            font-size: 1.3rem; font-weight: 700; color: var(--primary);
            margin-bottom: 25px; padding-left: 15px; 
            border-left: 5px solid var(--accent);
            display: flex; align-items: center;
        }

        /* ì§ˆë¬¸ ê·¸ë£¹ */
        .q-group { margin-bottom: 35px; scroll-margin-top: 100px; }
        .q-label { font-weight: 700; font-size: 1.05rem; margin-bottom: 12px; display: block; word-break: keep-all; color: #2c3e50; }
        
        /* ì„œë¸Œ ì§ˆë¬¸ (íšŒìƒ‰ ë°•ìŠ¤) */
        .sub-q { 
            margin-top: 15px; padding: 20px; 
            background: #F8F9FA; border-radius: var(--radius); 
            font-size: 0.9rem; border: 1px solid #eee;
        }
        
        /* ì…ë ¥ì°½ ìŠ¤íƒ€ì¼ */
        input[type="text"], input[type="tel"], textarea {
            width: 100%; padding: 16px; 
            border: 1px solid var(--border);
            border-radius: var(--radius); 
            box-sizing: border-box; font-size: 1rem;
            background: #FAFAFA;
            transition: all 0.3s ease;
        }
        input:focus, textarea:focus {
            outline: none;
            background: #fff;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(44, 62, 80, 0.1);
        }
        textarea { min-height: 120px; resize: vertical; }

        /* ì ìˆ˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .score-container { display: flex; justify-content: space-between; gap: 8px; }
        .score-box { position: relative; width: 100%; }
        .score-input { display: none; }
        .score-label {
            display: block; width: 100%; padding: 15px 0;
            text-align: center; background: #fff; 
            border: 1px solid var(--border);
            border-radius: 8px; cursor: pointer; transition: 0.2s;
            font-weight: 700; color: #999;
            box-shadow: 0 2px 5px rgba(0,0,0,0.03);
        }
        .score-input:checked + .score-label {
            background: var(--primary); color: #fff; 
            border-color: var(--primary);
            box-shadow: 0 4px 10px rgba(44, 62, 80, 0.3);
            transform: translateY(-2px);
        }
        .score-text {
            display: flex; justify-content: space-between; font-size: 0.8rem; color: #888; margin-top: 8px; padding: 0 5px;
        }

        /* ì²´í¬ë°•ìŠ¤ ê·¸ë¦¬ë“œ */
        .check-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-top: 10px; }
        .chk-label {
            display: flex; align-items: center; padding: 12px; background: #fff;
            border: 1px solid var(--border); border-radius: 8px; font-size: 0.9rem; cursor: pointer;
            transition: 0.2s;
        }
        .chk-label:hover { background: #f0f0f0; }
        .chk-input { margin-right: 10px; accent-color: var(--primary); transform: scale(1.2); }

        /* ë²„íŠ¼ */
        .submit-btn {
            width: 100%; padding: 20px; background: var(--primary); color: #fff;
            border: none; border-radius: var(--radius); font-size: 1.2rem; font-weight: 800;
            cursor: pointer; margin-top: 30px; transition: 0.3s;
            box-shadow: 0 5px 15px rgba(44, 62, 80, 0.2);
        }
        .submit-btn:hover { background: #1a252f; transform: translateY(-2px); }
        
        @media (max-width: 480px) {
            .container { padding: 30px 20px; border-radius: 0; }
            .check-grid { grid-template-columns: 1fr; }
            .input-row { flex-direction: column; }
            h1 { font-size: 1.8rem; }
            header { padding: 30px 15px; }
        }
        
        .input-row { display: flex; gap: 15px; margin-bottom: 20px; }
        .input-item { flex: 1; }
        .required-mark { color: #E74C3C; margin-left: 4px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ëŒ€í•œì² ê°•</h1>
        <div class="subtitle">ê±´ì„¤í˜„ì¥ ê³ ê°ë§Œì¡±ë„ ì„¤ë¬¸ì¡°ì‚¬</div>
    </header>

    <form id="surveyForm" novalidate>
        
        <div class="section">
            <div class="sec-title">ê¸°ë³¸ ì •ë³´</div>
            
            <div class="q-group">
                <label class="q-label">í˜„ì¥ëª…<span class="required-mark">*</span></label>
                <input type="text" name="siteName" required placeholder="ì˜ˆ: OOê±´ì„¤ ê´‘ì£¼ í˜„ì¥">
            </div>
            
            <div class="input-row">
                <div class="input-item">
                    <label class="q-label">ê±´ì„¤ì‚¬ëª…<span class="required-mark">*</span></label>
                    <input type="text" name="company" required placeholder="ì˜ˆ: ëŒ€í•œê±´ì„¤">
                </div>
                <div class="input-item">
                    <label class="q-label">ë¶€ì„œëª…</label>
                    <input type="text" name="dept" placeholder="ì˜ˆ: ê³µë¬´íŒ€">
                </div>
            </div>

            <div class="input-row">
                <div class="input-item">
                    <label class="q-label">ë‹´ë‹¹ìëª…<span class="required-mark">*</span></label>
                    <input type="text" name="managerName" required>
                </div>
                <div class="input-item">
                    <label class="q-label">ì—°ë½ì²˜<span class="required-mark">*</span></label>
                    <input type="tel" name="phone" id="phoneInput" required placeholder="010-0000-0000" maxlength="13">
                </div>
            </div>
        </div>

        <div class="section">
            <div class="sec-title">1. ê°€ê³µ ë‚©ê¸° ë° í’ˆì§ˆ</div>

            <div class="q-group" id="group-q1">
                <label class="q-label">1. ìš”ì²­í•œ ë‚©ê¸°ì¼ì„ ì¤€ìˆ˜ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q1-box"></div>
                <div class="score-text"><span>ì „í˜€ì•„ë‹˜(1)</span><span>ë§¤ìš°ê·¸ë ‡ë‹¤(5)</span></div>
            </div>

            <div class="q-group" id="group-q2">
                <label class="q-label">2. ê¸´ê¸‰ë°œì£¼ ëŒ€ì‘ì´ ì›í™œ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q2-box"></div>
            </div>

            <div class="q-group" id="group-q3">
                <label class="q-label">3. ê°€ê³µí’ˆê³¼ ì†¡ì¥ì´ ì¼ì¹˜ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q3-box"></div>
            </div>

            <div class="q-group" id="group-q4">
                <label class="q-label">4. ê°€ê³µí’ˆ í’ˆì§ˆì´ ì¢‹ì•˜ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q4-box"></div>
                <div class="sub-q">
                    <div style="margin-bottom:8px; font-weight:700; color:#555;">âš ï¸ ì´ìƒ ë°œìƒ ì‹œ ìœ í˜• ì„ íƒ (ë³µìˆ˜ì„ íƒ)</div>
                    <div class="check-grid">
                        <label class="chk-label"><input type="checkbox" name="q4_1" value="Crack" class="chk-input">Crack</label>
                        <label class="chk-label"><input type="checkbox" name="q4_1" value="ë…¹ë°œì²­" class="chk-input">ë…¹ ë°œì²­</label>
                        <label class="chk-label"><input type="checkbox" name="q4_1" value="íœ¨ë°œìƒ" class="chk-input">íœ¨ ë°œìƒ</label>
                        <label class="chk-label"><input type="checkbox" name="q4_1" value="ê°ë„ë¶ˆëŸ‰" class="chk-input">ê°ë„ ë¶ˆëŸ‰</label>
                        <label class="chk-label"><input type="checkbox" name="q4_1" value="ì¹˜ìˆ˜ë¶ˆëŸ‰" class="chk-input">ì¹˜ìˆ˜ ë¶ˆëŸ‰</label>
                    </div>
                </div>
            </div>

            <div class="q-group" id="group-q5">
                <label class="q-label">5. ëˆ„ë½í’ˆ ë° ìˆ˜ëŸ‰ë¶€ì¡± ë°œìƒì„ ìµœì†Œí™” í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q5-box"></div>
            </div>

            <div class="q-group" id="group-q6">
                <label class="q-label">6. ì°¨ëŸ‰ ì ì¬ ì•ˆì „ ë° ìƒí•˜ì°¨ê°€ ìš©ì´ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q6-box"></div>
                <div class="sub-q">
                    <div style="margin-bottom:8px; font-weight:700; color:#555;">âš ï¸ ì´ìƒ ë°œìƒ ì‹œ ìœ í˜• ì„ íƒ</div>
                    <div class="check-grid">
                        <label class="chk-label"><input type="checkbox" name="q6_1" value="ê³¼ì ìœ„í—˜" class="chk-input">ê³¼ì  ìœ„í—˜</label>
                        <label class="chk-label"><input type="checkbox" name="q6_1" value="ë¶„ë¦¬ìƒì°¨ë¯¸í¡" class="chk-input">ë¶„ë¦¬ ìƒì°¨ ë¯¸í¡</label>
                        <label class="chk-label"><input type="checkbox" name="q6_1" value="ê³ ì„ëª©ë¯¸í¡" class="chk-input">ê³ ì„ëª© ë¯¸í¡</label>
                        <label class="chk-label"><input type="checkbox" name="q6_1" value="ë°”êµ¬ë‹ˆìƒì°¨ë¶ˆëŸ‰" class="chk-input">ë°”êµ¬ë‹ˆ ìƒì°¨ ë¶ˆëŸ‰</label>
                        <label class="chk-label"><input type="checkbox" name="q6_1" value="ì°¨ëŸ‰ê¸°ì‚¬ë¹„í˜‘ì¡°" class="chk-input">ì°¨ëŸ‰ê¸°ì‚¬ ë¹„í˜‘ì¡°</label>
                    </div>
                </div>
            </div>

            <div class="q-group" id="group-q7">
                <label class="q-label">7. ë‹¨ìœ„ ë¬¶ìŒ í¬ì¥ ë° ë°”êµ¬ë‹ˆ ê²°ì†ì´ ê²¬ê³  í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q7-box"></div>
                <div class="sub-q">
                    <div style="margin-bottom:8px; font-weight:700; color:#555;">âš ï¸ ì´ìƒ ë°œìƒ ì‹œ ìœ í˜• ì„ íƒ</div>
                    <div class="check-grid">
                        <label class="chk-label"><input type="checkbox" name="q7_1" value="ê³¼í¬ì¥" class="chk-input">ê³¼í¬ì¥</label>
                        <label class="chk-label"><input type="checkbox" name="q7_1" value="ë‹¨ìœ„ë¬¶ìŒë¶ˆëŸ‰" class="chk-input">ë‹¨ìœ„ ë¬¶ìŒ ë¶ˆëŸ‰</label>
                        <label class="chk-label"><input type="checkbox" name="q7_1" value="ë°”êµ¬ë‹ˆë¶ˆëŸ‰" class="chk-input">ë°”êµ¬ë‹ˆ ë¶ˆëŸ‰</label>
                        <label class="chk-label"><input type="checkbox" name="q7_1" value="ê²°ì†ë¶ˆëŸ‰" class="chk-input">ê²°ì† ë¶ˆëŸ‰</label>
                        <label class="chk-label"><input type="checkbox" name="q7_1" value="Tagë¶ˆëŸ‰" class="chk-input">Tag ë¶ˆëŸ‰</label>
                    </div>
                </div>
            </div>

            <div class="q-group" id="group-q8">
                <label class="q-label">8. 25í†¤ë¯¸ë§Œ ì†Œìš´ë°˜ì— ì ê·¹ì ì¸ ëŒ€ì‘ì„ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q8-box"></div>
            </div>

            <div class="q-group" id="group-q9">
                <label class="q-label">9. ë‚´ì§„ìš©ì² ê·¼ ë° ì»¤í”ŒëŸ¬ ë‚©ê¸° ê´€ë ¨ ì ê·¹ ëŒ€ì‘ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q9-box"></div>
            </div>

            <div class="q-group" id="group-q10">
                <label class="q-label">10. ë‹´ë‹¹ì ì£¼ê¸°ì  í˜„ì¥ë°©ë¬¸ ë° ëŒ€ì‘ë ¥ì— ë§Œì¡±í•œë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q10-box"></div>
            </div>
        </div>

        <div class="section">
            <div class="sec-title">2. SHOP DWG ë‚©ê¸° ë° í’ˆì§ˆ</div>
            
            <div class="q-group" id="group-q11">
                <label class="q-label">1. ì‚¬ì „ë‚©í’ˆí˜‘ì˜ì‹œ SHOP ë°©ì¹¨í˜‘ì˜ë¥¼ ì§„í–‰ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q11-box"></div>
            </div>

            <div class="q-group" id="group-q12">
                <label class="q-label">2. ë‹´ë‹¹ì ê±´ì¶•/êµ¬ì¡°ë„ë©´ ì´í•´ë„ ë° ì†Œí†µì´ ì›í™œ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q12-box"></div>
            </div>

            <div class="q-group" id="group-q13">
                <label class="q-label">3. ê±´ì¶• ë° êµ¬ì¡°ë„ë©´ ê´€ë ¨ ì‚¬ì „ì ê²€ì„ ì§„í–‰ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q13-box"></div>
            </div>

            <div class="q-group" id="group-q14">
                <label class="q-label">4. SHOP DWG ë‚©ê¸°ì¼ì„ ì¤€ìˆ˜ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q14-box"></div>
            </div>

            <div class="q-group" id="group-q15">
                <label class="q-label">5. ìˆ˜ì • ë° ì„¤ê³„ë³€ê²½ ê´€ë ¨ ì ê·¹ì ì¸ ëŒ€ì‘ì„ í•˜ì˜€ë‹¤.<span class="required-mark">*</span></label>
                <div class="score-container" id="q15-box"></div>
            </div>
        </div>

        <div class="section">
            <div class="sec-title">3. ê°œì„  ìš”ì²­ ì‚¬í•­ (ììœ  ê¸°ì¬)</div>
            
            <div class="q-group" id="group-op1">
                <label class="q-label">ì›ê°€ì ˆê° ë° ì„œë¹„ìŠ¤ ëŒ€ì‘ ê´€ë ¨<span class="required-mark">*</span></label>
                <textarea name="opinion1" placeholder="ë‚´ìš©ì´ ì—†ìœ¼ë©´ 'ì—†ìŒ'ì´ë¼ê³  ì ì–´ì£¼ì„¸ìš”." required></textarea>
            </div>
            <div class="q-group" id="group-op2">
                <label class="q-label">ê°€ê³µì² ê·¼ ë‚©ê¸° ë° í’ˆì§ˆ ê´€ë ¨<span class="required-mark">*</span></label>
                <textarea name="opinion2" placeholder="ë‚´ìš©ì´ ì—†ìœ¼ë©´ 'ì—†ìŒ'ì´ë¼ê³  ì ì–´ì£¼ì„¸ìš”." required></textarea>
            </div>
            <div class="q-group" id="group-op3">
                <label class="q-label">SHOP ë‚©ê¸° ë° í’ˆì§ˆ ê´€ë ¨<span class="required-mark">*</span></label>
                <textarea name="opinion3" placeholder="ë‚´ìš©ì´ ì—†ìœ¼ë©´ 'ì—†ìŒ'ì´ë¼ê³  ì ì–´ì£¼ì„¸ìš”." required></textarea>
            </div>
            <div class="q-group" id="group-op4">
                <label class="q-label">íƒ€ì‚¬ì™€ ì°¨ë³„í™” / ê¸°íƒ€ ì˜ê²¬<span class="required-mark">*</span></label>
                <textarea name="opinion4" placeholder="ììœ ë¡­ê²Œ ì‘ì„±í•´ ì£¼ì„¸ìš”." required></textarea>
            </div>
        </div>

        <button type="submit" class="submit-btn">ì„¤ë¬¸ ì œì¶œí•˜ê¸°</button>

    </form>
</div>

<script>
    // âœ… ì „ë‹¬ì£¼ì‹  ì›¹ ì•± URL (Apps Script ì£¼ì†Œ í™•ì¸ í•„ìš”)
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzI4A5iNLz1Vli2_uKcfHOA2aXGQbkjyh4tcfT05_zWyOqwMY2Y5UTJT0yVlBK3k0fsaA/exec';

    // 1~5ì  ë²„íŠ¼ ìƒì„± í•¨ìˆ˜
    function createScoreButtons(qId, name) {
        let html = '';
        for(let i=1; i<=5; i++) {
            html += `<label class="score-box">
                        <input type="radio" name="${name}" value="${i}" class="score-input" required>
                        <span class="score-label">${i}</span>
                     </label>`;
        }
        document.getElementById(qId).innerHTML = html;
    }

    // ë¬¸í•­ ID ë§¤í•‘
    createScoreButtons('q1-box', 'q1');
    createScoreButtons('q2-box', 'q2');
    createScoreButtons('q3-box', 'q3');
    createScoreButtons('q4-box', 'q4');
    createScoreButtons('q5-box', 'q5');
    createScoreButtons('q6-box', 'q6');
    createScoreButtons('q7-box', 'q7');
    createScoreButtons('q8-box', 'q8');
    createScoreButtons('q9-box', 'q9');
    createScoreButtons('q10-box', 'q10');
    createScoreButtons('q11-box', 'q11');
    createScoreButtons('q12-box', 'q12');
    createScoreButtons('q13-box', 'q13');
    createScoreButtons('q14-box', 'q14');
    createScoreButtons('q15-box', 'q15');

    // ì „í™”ë²ˆí˜¸ ìë™ í•˜ì´í”ˆ
    const phoneInput = document.getElementById('phoneInput');
    phoneInput.addEventListener('input', (e) => {
        let number = e.target.value.replace(/[^0-9]/g, '');
        let tel = '';
        if(number.length < 4) {
            tel = number;
        } else if(number.length < 8) {
            tel = number.substr(0, 3) + '-' + number.substr(3);
        } else {
            tel = number.substr(0, 3) + '-' + number.substr(3, 4) + '-' + number.substr(7);
        }
        e.target.value = tel;
    });

    // ğŸš€ [ì¤‘ìš”] ì œì¶œ ë° ê²€ì¦ ë¡œì§ (ëˆ„ë½ ì‹œ ìë™ ì´ë™)
    const form = document.getElementById('surveyForm');
    const submitBtn = document.querySelector('.submit-btn');

    form.addEventListener('submit', e => {
        e.preventDefault();
        
        // 1. í•„ìˆ˜ ì…ë ¥ í•­ëª© ì²´í¬
        const invalidInputs = form.querySelectorAll(':invalid');
        if (invalidInputs.length > 0) {
            const firstInvalid = invalidInputs[0];
            
            // ì ìˆ˜ ë²„íŠ¼(radio)ì¸ ê²½ìš° ìƒìœ„ ê·¸ë£¹ì„ ì°¾ì•„ê°€ì•¼ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ê°€ ì •í™•í•¨
            const qGroup = firstInvalid.closest('.q-group');
            const target = qGroup || firstInvalid;

            alert('ì…ë ¥í•˜ì§€ ì•Šì€ í•­ëª©ì´ ìˆìŠµë‹ˆë‹¤.\ní•´ë‹¹ ìœ„ì¹˜ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
            
            // ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤ ì´ë™
            target.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            if (!qGroup) {
                firstInvalid.focus();
            }
            return;
        }

        // 2. ì „ì†¡ ì‹œì‘
        submitBtn.disabled = true;
        submitBtn.textContent = "ì „ì†¡ ì¤‘ì…ë‹ˆë‹¤...";

        const formData = new FormData(form);
        const data = {};
        
        // ë°ì´í„° íŒŒì‹±
        for (let [key, value] of formData.entries()) {
            if (data[key]) {
                if (!Array.isArray(data[key])) {
                    data[key] = [data[key]];
                }
                data[key].push(value);
            } else {
                data[key] = value;
            }
        }

        // fetch ì „ì†¡
        fetch(SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
        })
        .then(() => {
            alert('ì†Œì¤‘í•œ ì˜ê²¬ ê°ì‚¬í•©ë‹ˆë‹¤.\nì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤.');
            window.location.reload();
        })
        .catch(error => {
            alert('ì „ì†¡ ì‹¤íŒ¨. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
            submitBtn.disabled = false;
            submitBtn.textContent = "ì„¤ë¬¸ ì œì¶œí•˜ê¸°";
        });
    });
</script>

</body>
</html>
